(window.webpackJsonp=window.webpackJsonp||[]).push([[16,128,154,200,202],{722:function(t,e,n){"use strict";n.r(e);n(53);var r={name:"ServicesBadges",components:{ServiceBadgeSelector:n(736).default},props:{services:{type:Array,required:!0}},computed:{length:function(){return this.services?this.services.length:0},firstServices:function(){return this.length>3?this.services.slice(0,3):this.services}}},o=n(5),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center justify-center"},[t._l(t.firstServices,(function(t){return n("ServiceBadgeSelector",{key:t.id,staticClass:"pr-1",attrs:{name:t.name,"icon-name":t.icon_name}})})),t._v(" "),t.length>3?n("div",{staticClass:"pl-2 body-m-700"},[t._v("+ "+t._s(t.length-3))]):t._e()],2)}),[],!1,null,null,null);e.default=component.exports},746:function(t,e,n){"use strict";n.r(e);var r={name:"PlusIcon"},o=n(5),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{width:"21",height:"21",viewBox:"0 0 21 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M10.5 18C14.6421 18 18 14.6421 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18Z",stroke:"currentColor","stroke-width":"1.5","stroke-miterlimit":"10"}}),t._v(" "),n("path",{attrs:{d:"M7.375 10.5H13.625",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}}),t._v(" "),n("path",{attrs:{d:"M10.5 7.375V13.625",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}})])}),[],!1,null,"4196ef7c",null);e.default=component.exports},756:function(t,e,n){"use strict";n.r(e);var r={name:"PhoneBadge",components:{ClientPhoneIcon:n(760).default},props:{phone:{type:String,required:!0}}},o=n(5),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex items-center justify-center"},[n("ClientPhoneIcon"),t._v(" "),n("div",{staticClass:"pl-2 body-m-400"},[t._v(t._s(t.phone))])],1)}),[],!1,null,null,null);e.default=component.exports},760:function(t,e,n){"use strict";n.r(e);var r={name:"ClientPhoneIcon"},o=n(5),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{width:"20",height:"21",viewBox:"0 0 20 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{staticClass:"fill-primary",attrs:{d:"M12.6378 17.9029L12.5076 18.6415L12.6378 17.9029ZM14.8622 17.9029L14.7321 17.1643L14.8622 17.9029ZM17.3911 15.6305L16.6752 15.4069L17.3911 15.6305ZM17.5 14.9195H16.75H17.5ZM10 14.9195L9.25 14.9195L10 14.9195ZM10.1089 15.6305L9.39295 15.854L9.39295 15.854L10.1089 15.6305ZM15.3824 13V13.75H15.3825L15.3824 13ZM17.3217 15.853L18.0376 16.0765V16.0765L17.3217 15.853ZM10.1783 15.853L10.8943 15.6294L10.8943 15.6294L10.1783 15.853ZM12.1176 13L12.1175 13.75H12.1176V13ZM2.59709 5.63776L1.85847 5.50761L2.59709 5.63776ZM4.86954 10.3911L5.09308 9.67523H5.09308L4.86954 10.3911ZM5.5805 10.5V9.75V10.5ZM5.58051 3V2.25V3ZM4.86954 3.10886L4.646 2.39295L4.646 2.39295L4.86954 3.10886ZM7.5 8.38245H6.75V8.38245L7.5 8.38245ZM4.64701 10.3217L4.42346 11.0376H4.42346L4.64701 10.3217ZM4.64701 3.17835L4.87055 3.89426L4.87055 3.89426L4.64701 3.17835ZM7.5 5.11755L6.75 5.11755V5.11755L7.5 5.11755ZM9.39295 15.854L9.46244 16.0765L10.8943 15.6294L10.8248 15.4069L9.39295 15.854ZM18.0376 16.0765L18.1071 15.854L16.6752 15.4069L16.6057 15.6295L18.0376 16.0765ZM12.5076 18.6415C13.3283 18.7862 14.1717 18.7862 14.9924 18.6415L14.7321 17.1643C14.0836 17.2786 13.4164 17.2786 12.7679 17.1643L12.5076 18.6415ZM18.1071 15.854C18.2017 15.5509 18.25 15.2363 18.25 14.9195H16.75C16.75 15.0835 16.725 15.2474 16.6752 15.4069L18.1071 15.854ZM9.25 14.9195C9.25 15.2363 9.29831 15.5509 9.39295 15.854L10.8248 15.4069C10.775 15.2474 10.75 15.0835 10.75 14.9195L9.25 14.9195ZM18.25 14.9195C18.25 13.3776 16.8952 12.25 15.3824 12.25L15.3825 13.75C16.2087 13.75 16.75 14.3412 16.75 14.9195H18.25ZM16.6057 15.6295C16.3708 16.382 15.6678 16.9994 14.7321 17.1643L14.9924 18.6415C16.4182 18.3903 17.6174 17.4223 18.0376 16.0765L16.6057 15.6295ZM9.46244 16.0765C9.88265 17.4223 11.0818 18.3903 12.5076 18.6415L12.7679 17.1643C11.8322 16.9994 11.1292 16.382 10.8943 15.6294L9.46244 16.0765ZM10.75 14.9195C10.75 14.3412 11.2913 13.75 12.1175 13.75L12.1176 12.25C10.6048 12.25 9.25 13.3776 9.25 14.9195L10.75 14.9195ZM15.3824 12.25H12.1176V13.75H15.3824V12.25ZM4.646 2.39295L4.42346 2.46244L4.87055 3.89426L5.09309 3.82477L4.646 2.39295ZM4.42346 11.0376L4.646 11.1071L5.09308 9.67523L4.87055 9.60574L4.42346 11.0376ZM1.85847 5.50761C1.71384 6.32833 1.71384 7.17167 1.85847 7.99239L3.33571 7.73208C3.22143 7.08357 3.22143 6.41643 3.33571 5.76792L1.85847 5.50761ZM4.646 11.1071C4.94909 11.2017 5.26368 11.25 5.5805 11.25L5.5805 9.75C5.41653 9.75 5.25262 9.72504 5.09308 9.67523L4.646 11.1071ZM5.58051 2.25C5.26368 2.25 4.94909 2.29831 4.646 2.39295L5.09309 3.82477C5.25262 3.77496 5.41653 3.75 5.58051 3.75L5.58051 2.25ZM5.5805 11.25C7.12243 11.25 8.25001 9.89516 8.25 8.38245L6.75 8.38245C6.75 9.20872 6.15881 9.75 5.5805 9.75L5.5805 11.25ZM4.87055 9.60574C4.11802 9.37077 3.50059 8.66778 3.33571 7.73208L1.85847 7.99239C2.10971 9.41819 3.07771 10.6174 4.42346 11.0376L4.87055 9.60574ZM4.42347 2.46244C3.07771 2.88265 2.10971 4.08181 1.85847 5.50761L3.33571 5.76792C3.50059 4.83222 4.11803 4.12923 4.87055 3.89426L4.42347 2.46244ZM5.58051 3.75C6.15881 3.75 6.75 4.29128 6.75 5.11755L8.25 5.11756C8.25001 3.60485 7.12243 2.25 5.58051 2.25L5.58051 3.75ZM8.25 8.38245L8.25 5.11755L6.75 5.11755L6.75 8.38245H8.25ZM1.85964 7.99888C2.86169 13.407 7.09298 17.6383 12.5011 18.6404L12.7744 17.1655C7.97694 16.2766 4.22344 12.5231 3.33453 7.7256L1.85964 7.99888Z"}})])}),[],!1,null,null,null);e.default=component.exports},827:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o}));var r="AFTER",o="BEFORE"},892:function(t,e,n){"use strict";n.r(e);n(31),n(22),n(21),n(42),n(27),n(43);var r=n(2),o=n(16),c=(n(8),n(432),n(14),n(40),n(32),n(28)),l=n(720),f=n(722),h=n(733),d=n(732),m=n(756),v=n(714);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function C(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var L={name:"ClientActiveJobItem",components:{JobTypeBadge:l.default,SalaryContractIcon:h.default,ServicesBadges:f.default,HourlyContractIcon:d.default,PhoneBadge:m.default},props:{shift:{type:Object,required:!0}},computed:{nanny:function(){return this.shift.job.nanny},contract:function(){return this.shift.job?this.shift.job.contract:null},service:function(){return this.shift?this.shift.job.service:null},services:function(){return this.shift?this.shift.job.services:null},isHourlyContract:function(){return this.shift.job.type===v.b},isSalaryContract:function(){return this.shift.job.type===v.c},isShortTermContract:function(){return this.shift.job.type===v.e},currentDay:function(){return this.$moment(this.shift.start).format("YYYY-MM-DD")==this.$moment().format("YYYY-MM-DD")},broadcastRate:function(){var t=this;if(this.shift.job&&this.shift.job.nanny){var e=this.shift.job.accepted_candidates.find((function(e){return e.uuid===t.shift.job.nanny.uuid}));if(e)return e.broadcast_rate}return null}},methods:C(C({},Object(c.b)({cancelShift:"clients/cancelShift"})),{},{cancelShiftModal:function(){var t,e=this;this.$modal.open({component:function(){return n.e(14).then(n.bind(null,1097))},initialData:{title:"Are you sure you want to cancel this shift?",message:"Warning: As the shift starts in the next 24 hours, the client will still need to pay",cancelButtonText:"Iâ€™m not sure",confirmButtonText:"Cancel Shift",methods:{cancel:(t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.cancelShift(e.shift.uuid);case 3:e.$emit("fetchClientActiveJobs"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$toast.showMessage({title:"Something went wrong",message:"Could not cancel shift",type:"danger"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(){return t.apply(this,arguments)})}}})},openShiftDetailsModal:function(){this.$modal.open({component:function(){return n.e(258).then(n.bind(null,1101))},initialData:{shift:this.shift,data:{clockEnabled:!1},functions:{}}})},onJobClick:function(){this.shift&&this.openShiftDetailsModal()}})},w=L,_=n(5),component=Object(_.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-col relative md:flex-row items-start justify-between bg-white py-5 px-6 mb-4 border border-[#D3D0C5] rounded-md space-y-4 md:space-y-0 cursor-pointer",on:{click:t.onJobClick}},[n("div",{staticClass:"space-y-3"},[n("div",{staticClass:"flex flex-col md:flex-row items-start md:items-center justify-start space-x-0 md:space-x-5 space-y-2 md:space-y-0"},[n("span",{staticClass:"body-l-700"},[t._v(t._s(t.nanny?t.nanny.full_name:""))]),t._v(" "),t.shift?n("span",{staticClass:"body-l-400"},[t._v(t._s(t.shift?t.shift.parsed_time:""))]):n("span",{staticClass:"body-l-400"},[t._v(t._s(t.contract?t.contract.parsed_start_time:""))]),t._v(" "),n("JobTypeBadge",{attrs:{type:t.service?t.service.name:"",price:t.broadcastRate?t.broadcastRate:"-"}},[t.isHourlyContract||t.isShortTermContract?n("HourlyContractIcon",{attrs:{slot:"leftIcon"},slot:"leftIcon"}):t.isSalaryContract?n("SalaryContractIcon",{attrs:{slot:"leftIcon"},slot:"leftIcon"}):t._e()],1)],1),t._v(" "),n("div",{staticClass:"flex flex-col md:flex-row items-start md:items-center justify-start space-y-2 md:space-y-0"},[t.services&&t.services.length>0?n("ServicesBadges",{staticClass:"pr-6",attrs:{services:t.services}}):t._e(),t._v(" "),t.currentDay?n("div",[t.nanny&&t.nanny.phone?n("PhoneBadge",{staticClass:"pr-6",attrs:{phone:t.nanny.phone}}):t._e()],1):t._e()],1)])])}),[],!1,null,null,null);e.default=component.exports},941:function(t,e,n){"use strict";n.r(e);n(31),n(22),n(21),n(42),n(27),n(43);var r=n(2),o=n(16),c=(n(8),n(54),n(14),n(40),n(32),n(28)),l=n(698),f=n(892),h=n(700),d=n(744),m=n(746),v=n(70),y=n(827);function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var w={name:"ClientActiveJobsList",components:{PulseLoader:l.a,ClientActiveShiftItem:f.default,EmptyList:d.default,BaseButton:h.default,PlusIcon:m.default},props:{showInProgress:{type:Boolean,default:!0}},data:function(){return{loading:!1,loadingShiftRequestValidation:!1}},computed:L(L({},Object(c.e)({inProgressJobs:function(t){return t.activeJobs.inProgressJobs},upcomingJobs:function(t){return t.activeJobs.upcomingJobs}})),{},{subscriptionText:function(){return"AMP Agency"===this.user.client.location.agency_name?"You will now be charged the non subscription Hourly Rate":"Your account doesn't have an active subscription and you reach out the maximum amount of requests this month, you'll have to pay a booking fee"},shiftsRunoutText:function(){return"AMP Agency"===this.user.client.location.agency_name?"You will now be charged the non subscription Hourly Rate":"You reach out the maximum amount of requests this month, you'll have to pay a booking fee"}}),mounted:function(){this.fetchClientActiveJobs()},methods:L(L({},Object(c.b)({getInProgressJobs:"activeJobs/getClientInProgressJobs",getUpcomingJobs:"activeJobs/getClientUpcomingJobs"})),{},{requestCasualShift:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loadingShiftRequestValidation=!0,r=t.$auth.user,e.next=5,t.$axios.get("clients/".concat(r.client.uuid,"/can-create-free-shift-requests?when=").concat(y.b));case 5:if(o=e.sent,r.is_approved){e.next=8;break}return e.abrupt("return",t.$toast.showMessage({title:"Hey!",message:"Your account is not approved yet, you're not allowed to request casual shifts",type:"warning"}));case 8:o.data.data.can_create_free_shift_requests||(o.data.data.reach_maximum_amount_of_monthly_requests?t.$toast.showMessage({title:"Hey!",message:t.subscriptionText,type:"warning"}):o.data.data.reach_maximum_amount_of_subscription_requests&&t.$toast.showMessage({title:"Hey!",message:t.shiftsRunoutText,type:"warning"})),t.$modal.open({component:function(){return Promise.all([n.e(1),n.e(9),n.e(31)]).then(n.bind(null,1108))},initialData:{methods:{fetchShifts:function(){t.$emit("fetchShifts")}}}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t.$toast.showMessage({title:"Something went wrong",message:"We were not able to verify if you're able to create a shift request",type:"danger"});case 14:return e.prev=14,t.loadingShiftRequestValidation=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})))()},fetchClientActiveJobs:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.$auth.user.client){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t.loading=!0,n={clientUuid:t.$auth.user.client.uuid,statusFilter:"".concat(v.g,",").concat(v.a),from:t.$moment().format("YYYY-MM-DD"),to:t.$moment().format("YYYY-MM-DD")},r={clientUuid:t.$auth.user.client.uuid,statusFilter:"".concat(v.g,",").concat(v.a),from:t.$moment().add("days",1).format("YYYY-MM-DD"),to:t.$moment().add("months",1).format("YYYY-MM-DD")},e.next=8,t.getInProgressJobs(n);case 8:return e.next=10,t.getUpcomingJobs(r);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.$toast.showMessage({title:"Something went wrong",message:"Sorry something went wrong when we were pulling jobs data.",type:"danger"});case 15:return e.prev=15,t.loading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))()}})},_=n(5),component=Object(_.a)(w,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?n("div",{staticClass:"w-full h-screen flex pt-20 justify-center items-center px-2"},[n("PulseLoader",{attrs:{loading:!0,color:t.appBranding.primary,size:"12px"}})],1):n("div",{staticClass:"px-4 md:px-12 py-8"},[t.showInProgress?[n("div",{staticClass:"flex flex-col space-y-2 justify-between w-full"},[n("div",{staticClass:"flex flex-col md:flex-row items-start md:items-center justify-between"},[n("h1",{staticClass:"text-lg heading-m-700 pb-4"},[t._v("In Progress")]),t._v(" "),n("BaseButton",{staticClass:"w-56 mb-4",attrs:{text:"Request casual shift",size:"small",loading:t.loadingShiftRequestValidation},on:{click:t.requestCasualShift}},[t.loadingShiftRequestValidation?t._e():n("PlusIcon",{staticClass:"-mr-1 ml-1",attrs:{slot:"leftIcon"},slot:"leftIcon"})],1)],1),t._v(" "),0===t.inProgressJobs.length?n("EmptyList"):t._l(t.inProgressJobs,(function(t){return n("ClientActiveShiftItem",{key:t.id,attrs:{shift:t}})}))],2)]:t._e(),t._v(" "),t.showInProgress?[n("h1",{staticClass:"text-lg heading-m-700 pb-4 pt-8"},[t._v("Upcoming Jobs")]),t._v(" "),0===t.upcomingJobs.length?n("EmptyList"):t._l(t.upcomingJobs,(function(t){return n("ClientActiveShiftItem",{key:t.id,attrs:{shift:t}})}))]:[n("div",{staticClass:"flex flex-col md:flex-row items-start space-y-2 md:space-y-0 md:items-center justify-between mb-4"},[n("h1",{staticClass:"text-lg heading-m-700"},[t._v("Upcoming Job")]),t._v(" "),t.appBranding.job_services.SHIFT?n("BaseButton",{staticClass:"w-56 mb-4",attrs:{text:"Request casual shift",size:"small",loading:t.loadingShiftRequestValidation},on:{click:t.requestCasualShift}},[t.loadingShiftRequestValidation?t._e():n("PlusIcon",{staticClass:"-mr-1 ml-1",attrs:{slot:"leftIcon"},slot:"leftIcon"})],1):t._e()],1),t._v(" "),0===t.upcomingJobs.length?n("EmptyList"):t._l(t.upcomingJobs,(function(t){return n("ClientActiveShiftItem",{key:t.id,attrs:{shift:t}})}))]],2)])}),[],!1,null,null,null);e.default=component.exports}}]);