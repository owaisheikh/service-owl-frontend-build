(window.webpackJsonp=window.webpackJsonp||[]).push([[96,110,122],{1012:function(t,e,n){"use strict";n.r(e);n(31),n(22),n(21),n(42),n(27),n(43);var r=n(2),o=n(16),c=(n(14),n(40),n(32),n(8),n(28)),l=n(698),d=n(905),m=n(700);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={components:{PulseLoader:l.a,CardIcon:d.default,BaseButton:m.default},data:function(){return{loading:!0,cancelSubscriptionLoading:!1}},computed:y({},Object(c.e)({paymentMethod:function(t){var e;return null===(e=t.subscription.clientPaymentMethod)||void 0===e?void 0:e.card},subscription:function(t){var e;return null===(e=t.subscription.clientSubscription)||void 0===e?void 0:e.subscription},plan:function(t){return t.subscription.clientSubscription.plan}})),mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.getClientPaymentMethod(t.$auth.user.client.uuid);case 4:return e.next=6,t.getClientSubscription(t.$auth.user.client.uuid);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.$toast.showMessage({title:"Something went wrong",message:"Could not fetch data",type:"danger"});case 11:return e.prev=11,t.loading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()},methods:y(y({},Object(c.b)({getClientPaymentMethod:"subscription/getClientPaymentMethod",getClientSubscription:"subscription/getClientSubscription",cancelSubscription:"subscription/cancelSubscription"})),{},{onAddPaymentMethod:function(){var t,e=this;this.$modal.open({component:function(){return n.e(257).then(n.bind(null,1097))},initialData:{methods:{successCallback:(t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.getClientPaymentMethod(e.$auth.user.client.uuid);case 3:e.$modal.close(),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),e.$toast.showMessage({title:"Something went wrong",message:"Could not fetch payment method",type:"danger"});case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))),function(){return t.apply(this,arguments)})}}})},onCancelSubscription:function(){var t,e=this;this.$modal.open({component:function(){return n.e(11).then(n.bind(null,1017))},initialData:{data:{title:"Are you sure you want to cancel your current subscription?",acceptText:"Yes, cancel",acceptBtnStyle:"danger"},methods:{acceptanceCallback:(t=Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.cancelSubscriptionLoading=!0,t.next=4,e.cancelSubscription(e.$auth.user.client.uuid);case 4:return e.$toast.showMessage({title:"Success",message:"Subscription cancelled successfully, you won't be billed anymore",type:"success"}),t.next=7,e.getClientSubscription(e.$auth.user.client.uuid);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.$toast.showMessage({title:"Something went wrong",message:"Could not cancel the subscription, please contact support",type:"danger"});case 12:return t.prev=12,e.cancelSubscriptionLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])}))),function(){return t.apply(this,arguments)})}}})}})},v=h,w=n(5),component=Object(w.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("div",{staticClass:"h-screen w-full flex justify-center items-center"},[n("PulseLoader",{attrs:{loading:!0,color:t.appBranding.primary,size:"12px"}})],1):n("div",{staticClass:"py-12 px-4 md:px-16"},[t.isAgencyHunnyNanny?t._e():n("span",[t._m(0),t._v(" "),t.subscription?n("div",{staticClass:"p-4 md:p-6 mt-4 rounded-lg shadow-lg bg-white max-w-[100%] md:max-w-[490px]"},[n("div",{staticClass:"w-full space-y-2 mt-2"},[n("h3",{staticClass:"body-l-600"},[t._v("Status: "+t._s(t.subscription.stripe_status))]),t._v(" "),n("h3",{staticClass:"body-l-600"},[t._v("Name: "+t._s(t.plan.name))]),t._v(" "),n("h3",{staticClass:"body-l-600"},[t._v("\n          Requests limit per month: "+t._s(t.plan.limit>0?t.plan.limit:"unlimited")+"\n        ")]),t._v(" "),n("h3",{staticClass:"body-l-600"},[t._v("\n          Subscribed from: "+t._s(t.$moment.utc(t.subscription.created_at).format("l LT"))+"\n        ")]),t._v(" "),t.subscription.ends_at?n("h3",{staticClass:"body-l-600"},[t._v("\n          Subscribed until: "+t._s(t.$moment.utc(t.subscription.ends_at).format("l LT"))+"\n        ")]):t._e()]),t._v(" "),t.subscription.ends_at?n("div",{staticClass:"w-full mt-8"},[n("BaseButton",{staticClass:"w-62",attrs:{text:"Reactivate your subscription","btn-style":"success"},on:{click:function(e){return t.$router.push("/subscriptions/new")}}})],1):n("div",{staticClass:"w-full mt-8"},[n("BaseButton",{staticClass:"w-48",attrs:{text:"Cancel Subscription","btn-style":"danger",loading:t.cancelSubscriptionLoading},on:{click:t.onCancelSubscription}})],1)]):n("div",{staticClass:"w-full"},[n("span",[t._v("Currently, you don't have an active subscription.")]),t._v(" "),n("div",{staticClass:"my-4"},[n("BaseButton",{staticClass:"w-48",attrs:{text:"Subscribe now","btn-style":"success",disabled:!t.paymentMethod},on:{click:function(e){return t.$router.push("/subscriptions/new")}}})],1)])]),t._v(" "),t._m(1),t._v(" "),t.paymentMethod?n("div",{staticClass:"p-4 md:p-6 mt-4 rounded-lg shadow-lg bg-white max-w-[100%] md:max-w-[490px]"},[n("div",{staticClass:"w-full"},[n("div",{staticClass:"mt-2 bg-gray-50 px-8 py-6 rounded-lg border"},[n("div",{staticClass:"flex justify-between"},[n("span",{staticClass:"flex items-center space-x-2"},[n("CardIcon",{staticClass:"h-5 w-5 text-gray-500"}),t._v(" "),n("span",{staticClass:"capitalize"},[t._v(t._s(t.paymentMethod.brand)+" **** "+t._s(t.paymentMethod.last4))])],1),t._v(" "),n("span",{staticClass:"text-gray-500"},[t._v("\n            Expires "+t._s(t.paymentMethod.exp_month)+"/"+t._s(t.paymentMethod.exp_year)+"\n          ")])])])])]):n("div",{staticClass:"space-y-2"},[n("span",[t._v("Currently, you don't have an active payment method.")]),t._v(" "),n("BaseButton",{staticClass:"w-48",attrs:{text:"+ Add card","btn-style":"outline"},on:{click:t.onAddPaymentMethod}})],1)])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-row items-center justify-start space-x-8"},[n("h3",{staticClass:"title-l-600"},[t._v("Subscription Details")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex flex-row items-center justify-start space-x-8 mt-8"},[n("h3",{staticClass:"title-l-600"},[t._v("Payment Method")])])}],!1,null,null,null);e.default=component.exports},697:function(t,e,n){var content=n(702);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("3af0a2a6",content,!0,{sourceMap:!1})},698:function(t,e,n){"use strict";var r={name:"PulseLoader",props:{loading:{type:Boolean,default:!0},color:{type:String,default:"#5dc596"},size:{type:String,default:"15px"},margin:{type:String,default:"2px"},radius:{type:String,default:"100%"}},data:function(){return{spinnerStyle:{backgroundColor:this.color,width:this.size,height:this.size,margin:this.margin,borderRadius:this.radius,display:"inline-block",animationName:"v-pulseStretchDelay",animationDuration:"0.75s",animationIterationCount:"infinite",animationTimingFunction:"cubic-bezier(.2,.68,.18,1.08)",animationFillMode:"both"},spinnerDelay1:{animationDelay:"0.12s"},spinnerDelay2:{animationDelay:"0.24s"},spinnerDelay3:{animationDelay:"0.36s"}}}},o=(n(701),n(5)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"v-spinner"},[n("div",{staticClass:"v-pulse v-pulse1",style:[t.spinnerStyle,t.spinnerDelay1]}),n("div",{staticClass:"v-pulse v-pulse2",style:[t.spinnerStyle,t.spinnerDelay2]}),n("div",{staticClass:"v-pulse v-pulse3",style:[t.spinnerStyle,t.spinnerDelay3]})])}),[],!1,null,null,null);e.a=component.exports},699:function(t,e,n){var content=n(707);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(51).default)("8a3c3444",content,!0,{sourceMap:!1})},700:function(t,e,n){"use strict";n.r(e);var r={name:"BaseButton",components:{PulseLoader:n(698).a},props:{text:{type:String,default:""},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},btnStyle:{type:String,default:"primary"},size:{type:String,default:"medium"}},computed:{padding:function(){switch(this.size){case"small":return"px-4 py-1";case"thin":return"px-8 py-1";default:return"px-4 py-2"}},buttonType:function(){switch(this.btnStyle){case"primary":default:return"btn-primary";case"danger":return"btn-danger";case"outline":return"btn-outline";case"outline-danger":return"btn-outline-danger"}},hasLeftIcon:function(){return!!this.$slots.leftIcon},hasRightIcon:function(){return!!this.$slots.rightIcon},centerText:function(){return!1===this.hasLeftIcon&&!1===this.hasRightIcon?"justify-center items-center":"justify-between items-center"}},methods:{onClick:function(){this.$emit("click")},onMousedown:function(){this.$emit("mousedown")}}},o=(n(706),n(5)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:[t.buttonType,t.padding,t.centerText,{"cursor-not-allowed disabled":t.disabled}],attrs:{type:"button",disabled:t.disabled},on:{click:t.onClick,mousedown:t.onMousedown}},[t.loading?[n("PulseLoader",{attrs:{loading:!0,color:"primary"===t.btnStyle||"success"===t.btnStyle?"#ffffff":"#000000",size:"8px"}})]:[n("span",{staticClass:"mr-3 -ml-1"},[t._t("leftIcon")],2),t._v("\n    "+t._s(t.text)+"\n    "),n("span",{staticClass:"ml-3 -mr-1"},[t._t("rightIcon")],2)]],2)}),[],!1,null,"0266595c",null);e.default=component.exports},701:function(t,e,n){"use strict";n(697)},702:function(t,e,n){var r=n(50)((function(i){return i[1]}));r.push([t.i,"@-webkit-keyframes v-pulseStretchDelay{0%,80%{transform:scale(1);-webkit-opacity:1;opacity:1}45%{transform:scale(.1);-webkit-opacity:.7;opacity:.7}}@keyframes v-pulseStretchDelay{0%,80%{transform:scale(1);-webkit-opacity:1;opacity:1}45%{transform:scale(.1);-webkit-opacity:.7;opacity:.7}}",""]),r.locals={},t.exports=r},706:function(t,e,n){"use strict";n(699)},707:function(t,e,n){var r=n(50)((function(i){return i[1]}));r.push([t.i,".btn-primary[data-v-0266595c]{font-family:Nunito;font-size:14px;font-weight:700;line-height:21px;display:flex;border-radius:0.75rem;border-width:1px;border-color:transparent;background-color:var(--primary-default-color);--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms;transition-timing-function:cubic-bezier(0.4, 0, 1, 1)}.btn-primary[data-v-0266595c]:hover{background-color:var(--primary-dark-color)}.btn-outline[data-v-0266595c]{font-family:Nunito;font-size:14px;font-weight:700;line-height:21px;display:flex;border-radius:0.75rem;border-width:1px;border-color:var(--primary-dark-color);--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));color:var(--primary-dark-color);transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms;transition-timing-function:cubic-bezier(0.4, 0, 1, 1)}.disabled[data-v-0266595c]{font-family:Nunito;font-size:14px;font-weight:700;line-height:21px;display:flex;border-radius:0.75rem;border-width:1px;border-color:transparent;background-color:var(--primary-light-color);--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms;transition-timing-function:cubic-bezier(0.4, 0, 1, 1)}.disabled[data-v-0266595c]:hover{background-color:var(--primary-light-color)}.btn-danger[data-v-0266595c]{font-family:Nunito;font-size:14px;font-weight:700;line-height:21px;display:flex;border-radius:0.75rem;border-width:1px;border-color:transparent;--tw-bg-opacity:1;background-color:rgb(219 25 32 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms;transition-timing-function:cubic-bezier(0.4, 0, 1, 1)}.btn-danger[data-v-0266595c]:hover{--tw-bg-opacity:1;background-color:rgb(137 16 20 / var(--tw-bg-opacity))}.btn-outline-danger[data-v-0266595c]{font-family:Nunito;font-size:14px;font-weight:700;line-height:21px;display:flex;border-radius:0.75rem;border-width:1px;--tw-border-opacity:1;border-color:rgb(137 16 20 / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));--tw-text-opacity:1;color:rgb(137 16 20 / var(--tw-text-opacity));transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:200ms;transition-timing-function:cubic-bezier(0.4, 0, 1, 1)}",""]),r.locals={},t.exports=r},905:function(t,e,n){"use strict";n.r(e);var r=n(5),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"}},[n("path",{attrs:{d:"M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"}}),t._v(" "),n("path",{attrs:{"fill-rule":"evenodd",d:"M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z","clip-rule":"evenodd"}})])}),[],!1,null,null,null);e.default=component.exports}}]);