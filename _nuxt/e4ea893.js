(window.webpackJsonp=window.webpackJsonp||[]).push([[218,176],{1046:function(t,e,r){"use strict";r(955)},1047:function(t,e,r){var o=r(50)((function(i){return i[1]}));o.push([t.i,".nuxt-link-exact-active[data-v-4c9ca4b8]{color:var(--primary-default-color)}.formWidth[data-v-4c9ca4b8]{width:450px}@media only screen and (max-width:430px){.formWidth[data-v-4c9ca4b8]{width:350px}}@media only screen and (max-width:320px){.formWidth[data-v-4c9ca4b8]{width:300px}}",""]),o.locals={},t.exports=o},1130:function(t,e,r){"use strict";r.r(e);r(31),r(22),r(42),r(43);var o=r(2),n=r(16),l=(r(8),r(14),r(27),r(33),r(63),r(89),r(21),r(28)),c=r(44),d=r(949),f=r(938),m=r(759),v=r(789),h=r(786),y=r(721),x=r(738),_=r(726),w=r(715),C=r(705),j=r(764),S=r(736),k=r(41);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function L(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={name:"Step3ClientApplication",components:{ApplicationHeader:m.default,ApplicationFooter:v.default,StepsNav:h.default,ValidationProvider:c.b,ValidationObserver:c.a,DayItem:f.default,BaseTextArea:_.default,BaseCheckbox:x.default,CalendarIcon:y.default,BaseInput:w.default,InputLabel:C.default,BaseSelect:j.default,ServiceBadgeSelector:S.default},layout:"guest",data:function(){return{form:{job:{start:null,end:null,special_instructions:"",job_service_details:[],required_days:{monday:{from:null,to:null},tuesday:{from:null,to:null},wednesday:{from:null,to:null},thursday:{from:null,to:null},friday:{from:null,to:null},saturday:{from:null,to:null},sunday:{from:null,to:null}},service_id:null}},days:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],serviceDetails:[],loading:!1}},computed:L({},Object(l.e)({jobServiceDetails:function(t){return t.applications.job_service_details},services:function(t){return t.services.items},jobType:function(t){return t.applications.client.job_type}})),mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getJobServiceDetails(t.$route.params.locationUuid);case 2:return r=e.sent,r.data.job_service_details.forEach((function(e){t.serviceDetails.push({id:e.id,name:e.name,icon_name:e.icon_name})})),e.next=7,t.getServices({type:t.jobType,locationUuid:t.$route.params.locationUuid});case 7:case"end":return e.stop()}}),e)})))()},methods:L(L(L({},Object(l.d)({setClient:"applications/SET_CLIENT"})),Object(l.b)({storeApplication:"applications/store",getJobServiceDetails:"applications/getJobServiceDetails",getServices:"services/get"})),{},{setJobServiceDetail:function(t,e){t&&!this.form.job.job_service_details.includes(e)?this.form.job.job_service_details.push(e):!t&&this.form.job.job_service_details.includes(e)&&(this.form.job.job_service_details=this.form.job.job_service_details.filter((function(t){return t!=e})))},onFromChange:function(t,e){this.form.job.required_days[t].from=e},onToChange:function(t,e){this.form.job.required_days[t].to=e},store:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.observer.validate();case 2:if(e.sent){e.next=5;break}return e.abrupt("return",t.displayToast("Something went wrong","Please check the form for displayed errors"));case 5:if(!t.canSubmit()){e.next=22;break}return e.prev=6,t.loading=!0,t.setClient(t.form),r=t.$route.params.locationUuid,e.next=12,t.storeApplication({application_type:k.b,locationUuid:r});case 12:t.$toast.showMessage({title:"Success",message:"Client application successfully sent.",type:"success"}),t.$router.push({path:"/applications/client/location/".concat(r,"/payment")}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),t.$toast.showMessage({title:"Something went wrong",message:"Please check the form data.",type:"danger"});case 19:return e.prev=19,t.loading=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[6,16,19,22]])})))()},canSubmit:function(){return this.hasRequiredTime()?this.jobServiceDetailChecked()?this.validateDateRanges()?!!this.validateDayTimeRanges():(this.displayToast("Invalid Date time","The starting date can't be before today and must be before the end date"),!1):(this.displayToast("It must involve one task","Select at least one before submit"),!1):(this.displayToast("Request Time","You need to select your requested time"),!1)},validateDayTimeRanges:function(){var t=this.form.job.required_days;for(var e in t)if(null!=t[e].from&&null!=t[e].from){var r=this.$moment(t[e].from,"HH:mm"),o=this.$moment(t[e].to,"HH:mm");if(!r.isBefore(o))return this.displayToast("Invalid Time","On the day ".concat(Object(d.a)(e)," the starting time is before the end time.")),!1}return!0},validateDateRanges:function(){var t=this.$moment(this.form.job.start),e=this.$moment(this.form.job.end),r=this.$moment().startOf("day");return t.isSameOrAfter(r)&&t.isBefore(e)},hasRequiredTime:function(){var t=this.form.job.required_days;for(var e in t)if(t[e].from&&t[e].to)return!0;return!1},jobServiceDetailChecked:function(){return this.form.job.job_service_details.length>0},displayToast:function(title,t){this.$toast.showMessage({title:title,message:t,type:"danger"})}})},A=(r(1046),r(5)),component=Object(A.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ApplicationHeader"),t._v(" "),r("div",{staticClass:"flex flex-col items-center fade-in overflow-scroll"},[r("StepsNav",{attrs:{"current-step-index":3}})],1),t._v(" "),r("div",{staticClass:"formWidth mx-auto"},[r("ValidationObserver",{ref:"observer",staticClass:"formWidth mb-20",attrs:{tag:"div"}},[r("form",{staticClass:"flex flex-col pb-10 space-y-8 justify-items-stretch",on:{submit:function(e){return e.preventDefault(),t.store.apply(null,arguments)}}},[r("div",{staticClass:"body-l-700 text-black-light-2"},[t._v("Anticipated Duration")]),t._v(" "),r("ValidationProvider",{attrs:{name:"Service Type",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("BaseSelect",{attrs:{label:"Service Type",options:t.services,"show-description":!0,error:o.length>0?o[0]:""},model:{value:t.form.job.service_id,callback:function(e){t.$set(t.form.job,"service_id",e)},expression:"form.job.service_id"}})]}}])}),t._v(" "),r("div",{staticClass:"flex items-start justify-between space-x-4"},[r("ValidationProvider",{staticClass:"w-full",attrs:{rules:"required",name:"Starting Date",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("BaseInput",{attrs:{label:"Starting Date",type:"date",error:o.length>0?o[0]:""},model:{value:t.form.job.start,callback:function(e){t.$set(t.form.job,"start",e)},expression:"form.job.start"}},[r("template",{slot:"leftIcon"},[r("CalendarIcon",{staticClass:"text-primary"})],1)],2)]}}])}),t._v(" "),r("ValidationProvider",{staticClass:"w-full",attrs:{rules:"required",name:"Ending Date",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("BaseInput",{attrs:{label:"Ending Date",type:"date",error:o.length>0?o[0]:""},model:{value:t.form.job.end,callback:function(e){t.$set(t.form.job,"end",e)},expression:"form.job.end"}},[r("template",{slot:"leftIcon"},[r("CalendarIcon",{staticClass:"text-primary"})],1)],2)]}}])})],1),t._v(" "),r("div",[r("InputLabel",{staticClass:"mb-4",attrs:{text:"Days & Time Required"}}),t._v(" "),t._l(t.days,(function(e){return r("DayItem",{key:e,staticClass:"mb-3",attrs:{day:e,"value-from":t.form.job.required_days[e].from,"value-to":t.form.job.required_days[e].to},on:{fromChange:t.onFromChange,toChange:t.onToChange}})}))],2),t._v(" "),r("ValidationProvider",{staticClass:"w-full",attrs:{name:"Expectations",rules:"required|max:500",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("BaseTextArea",{attrs:{label:"Expectations",error:o.length?o[0]:""},model:{value:t.form.job.special_instructions,callback:function(e){t.$set(t.form.job,"special_instructions",e)},expression:"form.job.special_instructions"}})]}}])}),t._v(" "),r("ValidationProvider",{staticClass:"w-full",attrs:{name:"Service Details",tag:"div"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("p",{staticClass:"body-m-700 text-primary-dark"},[t._v("Will involve the following:")]),t._v(" "),r("div",t._l(t.serviceDetails,(function(e){return r("BaseCheckbox",{key:e.id,staticClass:"mt-2",attrs:{label:e.name},on:{input:function(r){return t.setJobServiceDetail(r,e)}}},[r("template",{slot:"leftIcon"},[r("ServiceBadgeSelector",{staticClass:"pr-1",attrs:{name:e.name,"icon-name":e.icon_name}})],1)],2)})),1)]}}])}),t._v(" "),r("ApplicationFooter",{attrs:{step:3,loading:t.loading}})],1)])],1)],1)}),[],!1,null,"4c9ca4b8",null);e.default=component.exports},734:function(t,e,r){var content=r(753);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(51).default)("0cb62ab4",content,!0,{sourceMap:!1})},749:function(t,e,r){var content=r(783);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(51).default)("d16febae",content,!0,{sourceMap:!1})},750:function(t,e,r){var content=r(785);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(51).default)("7d6b2542",content,!0,{sourceMap:!1})},752:function(t,e,r){"use strict";r(734)},753:function(t,e,r){var o=r(50)((function(i){return i[1]}));o.push([t.i,".nuxt-link-exact-active[data-v-634bc2de]{color:var(--primary-default-color)}",""]),o.locals={},t.exports=o},759:function(t,e,r){"use strict";r.r(e);var o={name:"ApplicationHeader",components:{Logo:r(754).default}},n=(r(752),r(5)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"px-8 py-5 shadow flex flex-col items-center justify-between relative bg-white"},[r("Logo",{staticClass:"p-0 absolute left-1/4 top-0"}),t._v(" "),r("p",[t._v("Application")])],1)}),[],!1,null,"634bc2de",null);e.default=component.exports},782:function(t,e,r){"use strict";r(749)},783:function(t,e,r){var o=r(50)((function(i){return i[1]}));o.push([t.i,".nuxt-link-exact-active[data-v-75383189]{color:var(--primary-default-color)}",""]),o.locals={},t.exports=o},784:function(t,e,r){"use strict";r(750)},785:function(t,e,r){var o=r(50)((function(i){return i[1]}));o.push([t.i,".nuxt-link-exact-active[data-v-7139f03d]{color:var(--primary-default-color)}.formWidth[data-v-7139f03d]{width:450px}@media only screen and (max-width:430px){.formWidth[data-v-7139f03d]{width:350px}}@media only screen and (max-width:320px){.formWidth[data-v-7139f03d]{width:300px}}",""]),o.locals={},t.exports=o},786:function(t,e,r){"use strict";r.r(e);r(704);var o={name:"ProgressDotsStep1"},n=r(5),l={name:"ProgressDotsStep2"},c={name:"ProgressDotsStep3"},d={name:"StepsNav",components:{ProgressDotsStep1:Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{width:"102",height:"27",viewBox:"0 0 102 27",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M26 14L101 14",stroke:"#D3D0C5"}}),t._v(" "),r("circle",{staticClass:"stroke-primary",attrs:{cx:"13.0636",cy:"13.5004",r:"11.9352",transform:"rotate(-90 13.0636 13.5004)","stroke-width":"1.5"}}),t._v(" "),r("circle",{attrs:{cx:"53.4393",cy:"13.5007",r:"8.56085",transform:"rotate(-90 53.4393 13.5007)",fill:"#FAFAFA",stroke:"#D3D0C5"}}),t._v(" "),r("circle",{attrs:{cx:"92.4393",cy:"13.5007",r:"8.56085",transform:"rotate(-90 92.4393 13.5007)",fill:"#FAFAFA",stroke:"#D3D0C5"}})])}),[],!1,null,"b117676c",null).exports,ProgressDotsStep2:Object(n.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{width:"95",height:"25",viewBox:"0 0 95 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M19 13L94 13",stroke:"#D3D0C5"}}),t._v(" "),r("circle",{staticClass:"stroke-primary",attrs:{cx:"48.5",cy:"12.5",r:"11.75",transform:"rotate(-90 48.5 12.5)",fill:"#FAFAFA","stroke-width":"1.5"}}),t._v(" "),r("circle",{staticClass:"fill-primary",attrs:{cx:"10.0608",cy:"12.6892",r:"9.06085",transform:"rotate(-90 10.0608 12.6892)"}}),t._v(" "),r("circle",{attrs:{cx:"85.9393",cy:"12.6892",r:"8.56085",transform:"rotate(-90 85.9393 12.6892)",fill:"#FAFAFA",stroke:"#D3D0C5"}}),t._v(" "),r("path",{attrs:{d:"M8.12573 16.1703L7.69296 16.5413C7.80125 16.6676 7.95934 16.7403 8.12573 16.7403C8.29213 16.7403 8.45022 16.6676 8.55851 16.5413L8.12573 16.1703ZM15.0728 8.94126C15.2777 8.70225 15.25 8.34241 15.011 8.13754C14.772 7.93267 14.4121 7.96035 14.2072 8.19936L15.0728 8.94126ZM5.9528 12.7594C5.74793 12.5203 5.38808 12.4927 5.14907 12.6975C4.91005 12.9024 4.88237 13.2622 5.08724 13.5013L5.9528 12.7594ZM8.55851 16.5413L15.0728 8.94126L14.2072 8.19936L7.69296 15.7994L8.55851 16.5413ZM8.55851 15.7994L5.9528 12.7594L5.08724 13.5013L7.69296 16.5413L8.55851 15.7994Z",fill:"white"}})])}),[],!1,null,"0614f824",null).exports,ProgressDotsStep3:Object(n.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("svg",{attrs:{width:"94",height:"25",viewBox:"0 0 94 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{d:"M19 13L94 13",stroke:"#D3D0C5"}}),t._v(" "),r("circle",{staticClass:"stroke-primary",attrs:{cx:"81.5",cy:"12.5",r:"11.75",transform:"rotate(-90 81.5 12.5)",fill:"#FAFAFA","stroke-width":"1.5"}}),t._v(" "),r("circle",{staticClass:"fill-primary",attrs:{cx:"10.0608",cy:"12.6892",r:"9.06085",transform:"rotate(-90 10.0608 12.6892)"}}),t._v(" "),r("path",{attrs:{d:"M8.12573 16.1703L7.69296 16.5413C7.80125 16.6676 7.95934 16.7403 8.12573 16.7403C8.29213 16.7403 8.45022 16.6676 8.55851 16.5413L8.12573 16.1703ZM15.0728 8.94126C15.2777 8.70225 15.25 8.34241 15.011 8.13754C14.772 7.93267 14.4121 7.96035 14.2072 8.19936L15.0728 8.94126ZM5.9528 12.7594C5.74793 12.5203 5.38808 12.4927 5.14907 12.6975C4.91005 12.9024 4.88237 13.2622 5.08724 13.5013L5.9528 12.7594ZM8.55851 16.5413L15.0728 8.94126L14.2072 8.19936L7.69296 15.7994L8.55851 16.5413ZM8.55851 15.7994L5.9528 12.7594L5.08724 13.5013L7.69296 16.5413L8.55851 15.7994Z",fill:"white"}}),t._v(" "),r("circle",{staticClass:"fill-primary",attrs:{cx:"44.1009",cy:"12.6892",r:"9.06085",transform:"rotate(-90 44.1009 12.6892)"}}),t._v(" "),r("path",{attrs:{d:"M42.1658 16.1703L41.733 16.5413C41.8413 16.6676 41.9994 16.7403 42.1658 16.7403C42.3322 16.7403 42.4903 16.6676 42.5985 16.5413L42.1658 16.1703ZM49.1128 8.94126C49.3177 8.70225 49.29 8.34241 49.051 8.13754C48.812 7.93267 48.4522 7.96035 48.2473 8.19936L49.1128 8.94126ZM39.9928 12.7594C39.788 12.5203 39.4281 12.4927 39.1891 12.6975C38.9501 12.9024 38.9224 13.2622 39.1273 13.5013L39.9928 12.7594ZM42.5985 16.5413L49.1128 8.94126L48.2473 8.19936L41.733 15.7994L42.5985 16.5413ZM42.5985 15.7994L39.9928 12.7594L39.1273 13.5013L41.733 16.5413L42.5985 15.7994Z",fill:"white"}})])}),[],!1,null,"5c620e0b",null).exports},props:{currentStepIndex:{type:Number,default:1},applicationType:{type:String,default:"nanny"}},data:function(){return{clientSteps:{1:"Family Information",2:"Services",3:"Contract Information"},nannySteps:{1:"Personal Information",2:"Services",3:"Experiences & References"}}},methods:{selectStep:function(t){this.stepSelected=t}}},f=(r(784),Object(n.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex formWidth items-center justify-between w-full mt-10 mb-10"},[r("h1",[t._v(t._s("nanny"==t.applicationType?t.nannySteps[t.currentStepIndex]:t.clientSteps[t.currentStepIndex]))]),t._v(" "),r("div",[r("ProgressDotsStep"+t.currentStepIndex,{tag:"component"})],1)])}),[],!1,null,"7139f03d",null));e.default=f.exports},789:function(t,e,r){"use strict";r.r(e);r(704);var o={name:"ApplicationFooter",components:{BaseButton:r(700).default},props:{step:{type:Number,default:1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},computed:{text:function(){return 1==this.step||2==this.step?"Continue":"Submit"}},methods:{back:function(){this.$router.push({path:"step-".concat(this.step-1)})},onClick:function(){this.$emit("onSubmit")}}},n=(r(782),r(5)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"pr-8 md:pr-40 px-8 py-5 shadow flex space-x-2 items-center justify-end fixed left-0 bottom-0 w-full bg-white border-t",style:t.agencyBrandingColorStyle},[1!=t.step?r("BaseButton",{staticClass:"w-48 flex-shrink-0",attrs:{text:"Back to Step "+(t.step-1),"btn-style":"outline"},on:{click:t.back}}):t._e(),t._v(" "),r("BaseButton",{staticClass:"w-48",attrs:{text:t.text,disabled:t.disabled,loading:t.loading,type:"submit"},on:{click:t.onClick}})],1)}),[],!1,null,"75383189",null);e.default=component.exports},955:function(t,e,r){var content=r(1047);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(51).default)("44c4fa3c",content,!0,{sourceMap:!1})}}]);