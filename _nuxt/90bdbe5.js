(window.webpackJsonp=window.webpackJsonp||[]).push([[208,110,199],{703:function(t,e,r){var content=r(712);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(51).default)("0539b552",content,!0,{sourceMap:!1})},705:function(t,e,r){"use strict";r.r(e);var n={name:"InputLabel",props:{text:{type:String,default:""}}},o=(r(711),r(5)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("label",{staticClass:"label"},[t._v(t._s(t.text))])}),[],!1,null,"6dd03c6e",null);e.default=component.exports},711:function(t,e,r){"use strict";r(703)},712:function(t,e,r){var n=r(50)((function(i){return i[1]}));n.push([t.i,".label[data-v-6dd03c6e]{font-family:Nunito;font-size:14px;font-weight:700;line-height:21px;display:block;color:var(--primary-dark-color)}",""]),n.locals={},t.exports=n},749:function(t,e,r){var content=r(782);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(51).default)("39871fd2",content,!0,{sourceMap:!1})},781:function(t,e,r){"use strict";r(749)},782:function(t,e,r){var n=r(50)((function(i){return i[1]}));n.push([t.i,".nuxt-link-exact-active[data-v-6ad2f9d9]{color:var(--primary-default-color)}.formWidth[data-v-6ad2f9d9]{width:450px}@media only screen and (max-width:430px){.formWidth[data-v-6ad2f9d9]{width:350px}}@media only screen and (max-width:320px){.formWidth[data-v-6ad2f9d9]{width:300px}}.text-input[data-v-6ad2f9d9]{font-family:Nunito;font-size:14px;font-weight:400;line-height:21px;margin-top:0.25rem;display:block;width:100%;border-width:1px;--tw-border-opacity:1;border-color:rgb(211 208 197 / var(--tw-border-opacity));--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity));padding-top:0.5rem;padding-bottom:0.5rem;outline:2px solid transparent;outline-offset:2px;--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(0px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.input-cont[data-v-6ad2f9d9]{border-radius:0.75rem;--tw-border-opacity:1;border-color:rgb(214 216 213 / var(--tw-border-opacity));padding-left:1rem;padding-right:1rem}",""]),n.locals={},t.exports=n},789:function(t,e,r){"use strict";r.r(e);r(31),r(22),r(21),r(14),r(42),r(28),r(43);var n=r(2),o=r(16),c=(r(8),r(23)),l=r(187);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={name:"Payment",components:{InputLabel:r(705).default},layout:"guest",props:{stripe:{type:Object,required:!0},error:{type:String,required:!1,default:""}},data:function(){return{loading:!1,disabled:!1,cardNumber:null,isNumberFilled:!1,isExpiryFilled:!1,isCvcFilled:!1,expiryError:"",numberError:"",cvcError:""}},computed:{cardStyles:function(){return{base:{fontSize:"14px",paddingTop:"0.5rem",fontWeight:400,lineHeight:"21px",backgroundColor:"white",height:"100%"}}},canCharge:function(){return this.isNumberFilled&&this.isExpiryFilled&&this.isCvcFilled}},watch:{canCharge:function(t){this.$emit("canCharge",t)}},methods:f(f({},Object(c.b)({storeApplication:"applications/store"})),{},{createStripeCard:function(){var t=this,e=this.stripe.elements({fonts:[{cssSrc:"https://fonts.googleapis.com/css2?family=Work+Sans:wght@400"}],locale:"auto"}),r=this.$refs;this.cardNumber=e.create("cardNumber",{style:this.cardStyles}),this.cardNumber.mount(r.stripeCardNumber);var n=e.create("cardExpiry",{classes:this.cardClasses,style:this.cardStyles});n.mount(r.stripeCardExpiry);var o=e.create("cardCvc",{classes:this.cardClasses,style:this.cardStyles});o.mount(r.stripeCardCVC),this.cardNumber.on("change",this.handleNumberChange),this.cardNumber.on("blur",(function(e){return t.blurStripeE(r.stripeCardNumber,e)})),this.cardNumber.on("focus",(function(e){return t.focusStripeElement(r.stripeCardNumber,e)})),n.on("change",this.handleExpiryChange),n.on("blur",(function(e){return t.blurStripeE(r.stripeCardExpiry,e)})),n.on("focus",(function(e){return t.focusStripeElement(r.stripeCardExpiry,e)})),o.on("change",this.handleCvcChange),o.on("blur",(function(e){return t.blurStripeE(r.stripeCardCVC,e)})),o.on("focus",(function(e){return t.focusStripeElement(r.stripeCardCVC,e)}))},blurStripeE:function(t){t.parentNode.classList.remove("ring-2"),t.parentNode.classList.remove("ring-primary")},focusStripeElement:function(t){t.parentNode.classList.add("ring-2"),t.parentNode.classList.add("ring-primary")},handleNumberChange:function(t){var e=t.complete,r=t.error;this.isNumberFilled=e,this.numberError=r?r.message:"",this.$emit("card",this.cardNumber)},handleExpiryChange:function(t){var e=t.complete,r=t.error;this.isExpiryFilled=e,this.expiryError=r?r.message:""},handleCvcChange:function(t){var e=t.complete,r=t.error;this.isCvcFilled=e,this.cvcError=r?r.message:""},store:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,r=t.$route.params.locationUuid,e.next=5,t.storeApplication({application_type:l.a,locationUuid:r});case 5:t.$toast.showMessage({title:"Success",message:"Client application successfully sent.",type:"success"}),t.$router.push({path:"/applications/client/location/".concat(r,"/sent")}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.$toast.showMessage({title:"Something went wrong",message:"Please check the form data.",type:"danger"});case 12:t.loading=!1;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()}}),mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.disabled=!0,e.next=3,t.createStripeCard();case 3:t.disabled=!1;case 4:case"end":return e.stop()}}),e)})))()}},m=(r(781),r(5)),component=Object(m.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"formWidth mx-auto my-8"},[r("div",{staticClass:"body-l-400 text-center mb-8"},[r("div",[r("div",{staticClass:"grid grid-cols-6 gap-x-4 gap-y-9"},[r("div",{staticClass:"col-span-6"},[r("InputLabel",{attrs:{text:"Card Number"}}),t._v(" "),r("div",{staticClass:"text-input input-cont"},[r("div",{ref:"stripeCardNumber",staticClass:"w-full"})]),t._v(" "),t.numberError?r("h4",{staticClass:"text-danger caption-s-500 mt-2"},[t._v(t._s(t.numberError))]):t._e()],1),t._v(" "),r("div",{staticClass:"col-span-3"},[r("InputLabel",{attrs:{text:"Expiration"}}),t._v(" "),r("div",{staticClass:"text-input input-cont"},[r("div",{ref:"stripeCardExpiry",staticClass:"w-full"})]),t._v(" "),t.expiryError?r("h4",{staticClass:"text-danger caption-s-500 mt-2"},[t._v(t._s(t.expiryError))]):t._e()],1),t._v(" "),r("div",{staticClass:"col-span-3"},[r("InputLabel",{attrs:{text:"CVC"}}),t._v(" "),r("div",{staticClass:"text-input input-cont"},[r("div",{ref:"stripeCardCVC",staticClass:"w-full"})]),t._v(" "),t.cvcError?r("h4",{staticClass:"text-danger caption-s-500 mt-2"},[t._v(t._s(t.cvcError))]):t._e()],1)]),t._v(" "),t.error?r("p",{staticClass:"text-danger caption-s-500 mt-2"},[t._v(t._s(t.error))]):t._e()])])])}),[],!1,null,"6ad2f9d9",null);e.default=component.exports}}]);